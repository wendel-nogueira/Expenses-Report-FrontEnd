<div class="flex flex-col items-center gap-8">
  <app-header
    [title]="'update departament'"
    [subtitle]="'use the form below to update the departament'"
  />
  <app-content class="w-full">
    <app-form [loading]="loading || !departament" class="w-full">
      <app-form-group class="w-full">
        <app-input-text
          [value]="name"
          [label]="'Name'"
          (changeValue)="name = $event"
          (isInvalid)="nameIsInvalid = $event"
          class="w-full"
        />
      </app-form-group>
      <app-form-group class="w-full">
        <app-input-text
          [value]="acronym"
          [label]="'Acronym'"
          [alreadyExists]="acronymExists"
          [minLength]="2"
          [maxLength]="10"
          (changeValue)="acronymChangeValue($event)"
          (isInvalid)="acronymIsInvalid = $event"
          class="w-full"
        />
      </app-form-group>
      <app-form-group class="w-full">
        <app-text-field
          [value]="description"
          [label]="'Description'"
          (changeValue)="description = $event"
          class="w-full"
        />
      </app-form-group>
      <app-form-group>
        <app-select-multiple
          class="w-full"
          [label]="'Managers'"
          [options]="allUsers"
          [value]="managers"
          (changeValue)="changeManagersValue($event)"
        />
      </app-form-group>
      <app-form-group>
        <app-select-multiple
          class="w-full"
          [label]="'Users'"
          [options]="allUsers"
          [value]="users"
          (changeValue)="changeUsersValue($event)"
        />
      </app-form-group>
      <app-button-group class="w-full">
        <app-flat-button
          [label]="'update'"
          [icon]="'edit'"
          [type]="'info'"
          (clickButton)="onSubmit()"
          class="w-full"
        ></app-flat-button>

        <app-flat-button
          *ngIf="departament && departament.isDeleted"
          [label]="'activate'"
          [icon]="'check'"
          [type]="'success'"
          (clickButton)="onActivate($event)"
          class="w-full"
        ></app-flat-button>
        <app-flat-button
          *ngIf="departament && !departament.isDeleted"
          [label]="'deactivate'"
          [icon]="'trash'"
          [type]="'warning'"
          (clickButton)="onDeactivate($event)"
          class="w-full"
        ></app-flat-button>
      </app-button-group>
    </app-form>
  </app-content>
</div>
